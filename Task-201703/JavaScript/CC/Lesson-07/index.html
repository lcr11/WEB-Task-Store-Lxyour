<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <title>JS课堂第七节 - JavaScript 浏览器对象（BOM）</title>
</head>
<body>
    <h2>window对象</h2>
    <h3>1. 打开新窗口</h3>
    <input id="input" type="button" value="点击我，打开新窗口！">
    <script type="text/javascript">
        function windowOpen(){
            window.open('http://www.51rgb.com', '_blank', 'width = 600, height = 400, top = 100, left = 0');
        }
        var inp = document.getElementById("input");
        inp.onclick = windowOpen;
    </script>
    <h2>计时器</h2>
    <h3>1. setTimeout</h3>
    <input type="text" id="inum">
    <input type="button" id="ialt" value="Start">
<script >
    var inum = document.getElementById("inum");
    var ialt = document.getElementById("ialt");
    ialt.onclick = function(){
        setTimeout("inum.value = 3",1000);
        setTimeout("inum.value = 2",2000);
        setTimeout("inum.value = 1",3000);
        setTimeout("alert(0)",4000);
    }
</script>
   
    <h3>2. clearTimeout</h3>
    <input type="text" id="count">
    <input type="button" id="istart" value="start">
    <input type="button" id="istop" value="stop">
    <script>
        var seti = null;
        var num = 0;
        function startCount(){
            document.getElementById('count').value = num;
            num = num + 1;                              //递归
            seti = setTimeout("startCount()",1000);
        }
        var istart = document.getElementById("istart");
        istart.onclick = function(){
            startCount();
        }
        var istop = document.getElementById("istop");
        istop.onclick = function(){
            clearTimeout(seti);
        }
    </script>
   
   <h3>3. setInterval</h3>
   <input type="text" id="clock">
   <script>
       function clock(){
           var time = new Date();
           var attime = time.getHours()+":"+time.getMinutes()+":"+time.getSeconds();
           document.getElementById("clock").value = attime;
       }
       setInterval(clock,1000);
   </script>

    <h3>4. clearInterval</h3>
    <input type="text" id="clock1">
    <input type="button" id="istart1" value="Start">
    <input type="button" id="istop1" value="Stop">
    <script type="text/javascript">
        var setid;
        var time;
        var attime;
        function clock1(){
            time = new Date();
            attime = time.getHours() + ":" + time.getMinutes() + ":" + time.getSeconds();
            document.getElementById("clock1").value = attime;
        }
        var istart1 = document.getElementById("istart1");
        istart1.onclick = function (){
            setid = setInterval(clock1, 1000);
        }
        var istop = document.getElementById("istop1");
        istop1.onclick = function (){
            clearInterval(setid);
        }
    </script>
    
    <h2>navigator对象</h2>
    <script>
        var u_agent =  navigator.userAgent;
        var B_name="不是想用的主流浏览器!"; 
        if(u_agent.indexOf("Firefox")>-1){ 
            B_name="Firefox"; 
        }else if(u_agent.indexOf("Chrome")>-1){ 
            B_name="Chrome"; 
        }else if(u_agent.indexOf("MSIE")>-1 && u_agent.indexOf("Trident")>-1){ 
            B_name="IE(8-10)";  
        }
        document.write("浏览器:"+B_name+"<br>");
        document.write("u_agent:"+u_agent+"<br>"); 
    </script>

    <h2>screen对象</h2>
    <script>
        document.write("屏幕宽度：" + screen.width + "px<br>");
        document.write("屏幕高度：" + screen.height + "px<br>");
        document.write("可用宽度：" + screen.availWidth + "px<br>");
        document.write("可用高度：" + screen.availHeight + "px<br>");
    </script>
    <h2>编程练习</h2>
    <p>写一个函数，用于检测当前浏览器的名称，返回一个对象，包含浏览器的名称和操作系统。</p>
    <script>
        function name(){
            var u_agent =  navigator.userAgent;
            var B_name="不是想用的主流浏览器!"; 
            if(u_agent.indexOf("Firefox")>-1){ 
                B_name="Firefox"; 
            }else if(u_agent.indexOf("Chrome")>-1){ 
                B_name="Chrome"; 
            }else if(u_agent.indexOf("MSIE")>-1 && u_agent.indexOf("Trident")>-1){ 
                B_name="IE(8-10)";  
            }
            return{B_name};
        }
        var res = name();
        var arr = [];
        arr.splice(0,0,res.B_name,navigator.platform);
        document.write(arr);
        console.log(arr);
    </script>
    
</body>
</html>